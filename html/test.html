<!-- To Do:

-->

<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">
	
	<title>Positionsdaten</title>
	
	<script src="js/plugins.js"></script>
	<script src="js/main.js"></script> 
	<script src="js/mqtt.js"></script>
	
</head>
    <body>
		<h1>Sensordaten</h1>
		
		<form name="myform">
			<fieldset>
				<textarea cols="20" rows="5" id="textfeld" readonly></textarea>
			</fieldset>	
		</form>

		  <script>
			// Create a client instance
			var client = mqtt.connect(location.origin.replace(location.protocol, 'ws:') + ":15675");
			client.on('connect', function() { client.subscribe('demo/test'); });
			//what to do when receiving a mqtt message
			client.on('message', function(topic, msg) {
				//window.alert(msg);
				var newtext = document.myform.inputtext.value;
				document.myform.outputtext.value += newtext;
				//document.getElementById("textfeld").value = msg;
			});
		  </script>
    </body>
</html>